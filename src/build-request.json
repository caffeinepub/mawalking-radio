{
  "kind": "build_request",
  "title": "Replace app background with Nairobi skyline image",
  "priority": "normal",
  "requirements": [
    {
      "id": "REQ-1",
      "text": "Replace the global app background with a skyline photo of Nairobi, Kenya by adding new generated background image assets using the exact filenames and dimensions already referenced by the app, and place them in `frontend/public/assets/generated/`.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "recent-messages"
        ],
        "quotes": [
          "I don't like the background image you have selected. I recommend an image of the skyline of the city of Nairobi Kenya. Look for one and use it."
        ]
      },
      "acceptanceCriteria": [
        "The following files exist in `frontend/public/assets/generated/` and visually depict the skyline/urban landscape of Nairobi, Kenya: `mawalking-user-bg-mobile.dim_1080x1920.(png|webp|avif)` and `mawalking-user-bg.dim_1920x1080.(png|webp|avif)`.",
        "On reload, the app background displays the new Nairobi skyline image on mobile (<768px) and desktop (>=768px) using the existing CSS references in `frontend/src/index.css`.",
        "The existing background overlay readability treatment (the `body::before` dark overlay) remains intact and the UI remains readable over the new background."
      ]
    },
    {
      "id": "REQ-2",
      "text": "Ensure the updated Nairobi background image assets are picked up by the PWA/service worker caching behavior on the next reload without requiring users to manually clear caches.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "recent-messages"
        ],
        "quotes": [
          "Look for one and use it."
        ]
      },
      "acceptanceCriteria": [
        "After deploying the new background assets, a user who reloads the app receives the updated background without needing to use Settings → Refresh Background or manually clear browser caches.",
        "If the service worker continues to serve an older cached background, update the cache versioning or cache invalidation logic so the new assets are fetched and displayed on next reload."
      ]
    }
  ],
  "constraints": [
    "Do not change any files under `frontend/src/components/ui` (read-only UI component sources).",
    "Do not edit any paths listed in `frontend.immutablePaths` in SYSTEM_CONTEXT.",
    "Keep the exact existing background asset filenames and dimensions already referenced by `frontend/src/index.css` and `frontend/public/service-worker.js`.",
    "All user-facing text must be in English."
  ],
  "nonGoals": [
    "Adding new screens, settings, or features unrelated to the background image change.",
    "Changing the app’s navigation, audio playback behavior, or backend canister logic."
  ],
  "imageRequirements": {
    "required": [
      "Nairobi, Kenya skyline/urban landscape background image, mobile portrait (mawalking-user-bg-mobile.dim_1080x1920.png)",
      "Nairobi, Kenya skyline/urban landscape background image, mobile portrait (mawalking-user-bg-mobile.dim_1080x1920.webp)",
      "Nairobi, Kenya skyline/urban landscape background image, mobile portrait (mawalking-user-bg-mobile.dim_1080x1920.avif)",
      "Nairobi, Kenya skyline/urban landscape background image, desktop landscape (mawalking-user-bg.dim_1920x1080.png)",
      "Nairobi, Kenya skyline/urban landscape background image, desktop landscape (mawalking-user-bg.dim_1920x1080.webp)",
      "Nairobi, Kenya skyline/urban landscape background image, desktop landscape (mawalking-user-bg.dim_1920x1080.avif)"
    ],
    "edits": []
  },
  "userProfileUpdate": {
    "goalsToAdd": [],
    "goalsToRemove": [],
    "preferencesToAdd": [],
    "preferencesToRemove": [],
    "miscToAdd": [],
    "miscToRemove": [],
    "fieldsToSet": {},
    "fieldsToDelete": []
  }
}